# 북스터디

# 📌 04. 역할, 책임, 협력

### 📌 협력

- 동일한 **목적**을 달성하기 위한 다수의 **요청**과 **응답**의 흐름으로 구성됨
- 요청과 응답을 통해 객체의 **책임**이 정의됨

### 📌 책임

- 어떤 객체가 어떤 요청에 대한 응답을 할 수 있거나, 적절한 행동을 할 의무가 있는 것
- 책임은 크게 두가지로 나뉜다.
- 하는 것
    - 객체를 생성하거나 계산을 하는 등의 스스로 하는 것
    - 다른 객체의 행동을 시작시키는 것
    - 다른 객체의 활동을 제어하고 조절하는 것
- 아는 것
    - 개인적인 정보에 관해 아는 것
    - 관련된 객체에 관해 아는 것
    - 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것
- 책임은 외부에 제공가능한 정보(아는 것)와 서비스(하는 것)의 목록이다. 이를 *’책임은 객체의 **공용인터페이스(public interface)**를 구성한다 ‘* 라고 한다
- 책임은 요청을 통해 이루어지는데, 다른 객체에게 요청을 보내는 것을 **메시지 전송**이라고 한다.

### 📌 역할

- 역할을 통해 비슷한 관계의 협력을 하나의 협력으로 추상화 할 수 있다.
- 역할은 동일한 메시지를 이해할 수 있는 객체들로 대체된다.
- 협력을 추상화해 (**단순성**) 협력이 좀 더 유연해지고(**유연성**) 다양한 객체들이 동일한 협력에 참여(**재사용성**)할 수 있다.
- 역할의 대체 가능성은 행위 호환성이고, 이는 동일한 책임의 수행을 의미한다.

### 📌 협력의 방향

1. 객체들의 요청과 응답의 흐름을 결정하여 책임을 정의한다.
2. 협력이라는 문맥 안에서 객체의 행위에 초점을 맞춰 책임을 분배한다.
3. 객체가 행동을 수행하기 위해 필요한 데이터를 정의한다.
4. 설계에 맞는 구체적인 클래스를 개발한다.

### 📌 객체지향 설계 기법

- 책임 - 주도 설계
    - 객체의 책임을 중심으로 시스템을 설계하는 것
    - 시스템의 책임을 나눠 객체의 책임으로 분할하고, 객체들은 책임 수행을 하며 필요한 경우 다른 객체에게 도움을 요청해 책임을 할당한다.

- 디자인 패턴
    - 책임 - 주도 설계의 결과들로, 문제 해결을 위한 모범이 되는 설계 템플릿의 모음이다.
    - 유사한 상황에서 빠르고 쉽게 활용가능하다.

- 테스트 - 주도 개발
    - 테스트를 먼저 작성하고 이를 통과하는 코드를 만들어가는 과정이다.
    - 객체의 역할이 메시지를 수신할 때 어떤 결과를 반환하고 어떤 협력을 하는지에 대한 기대를 코드의 형태로 작성하는 것이다.
    - 책임 - 주도 설계에 대한 깊은 이해가 필요하다.

# ❓ Questions

### ❓ 하는 것에 관련된 책임만을 가진 객체가 있나

> 왕은 재판 집행이라는 책임을 수행하기 위해 하얀 토끼에게 목격자를 불러오도록 요청한 후, 모자장수에게 증언을 하라고 요청한다. 왕은 하는 것과 관련된 책임을 가진다.
> 
- 책의 예시에서 왕은 재판하라 라는 요청을 받고 책임을 수행한다. 토끼나 모자장수에 대한 설명에는 하는 것과 아는 것에 대한 책임이 둘 다 있다고 설명되어 있는데, 왕은 하는 것에 대한 책임만 설명되어있다.
- 기본적으로 모든 객체는 요청을 수행하면서 협력을 하려면, 책에서 아는 것에서 정의한 ‘관련된 객체에 관해 아는 것’은 모든 객체에게 해당되지 않나?
- 하는 것에 관련된 책임만을 가진 객체나 아는 것에 관련된 책임만을 가진 객체가 존재하는가?
