## 📌 객체지향설계의 상호연관된 관점

- 개념 관점(클래스가 은유하는 개념)
    - 도메인 안에 존재하는 개념과 개념들 사이의 관계 표현
    - 사용자들이 관심을 가지고 있는 특정 분야나 주제를 도메인이라 하고, 이 관점은  사용자가 도메인을 바라보는 관점이다
    - 실제 도메인의 규칙과 제약을 최대한 유사하게 반영하는 것이 핵심
    - 소프트웨어 클래스가 도메인 개념의 특성을 최대한 수용하면 변경을 관리하기 쉽고 유지보수성을 향상시킬 수 있음
- 명세 관점(클래스의 공용 인터페이스)
    - 도메인의 개념이 아니라 실제로 소프트웨어 안에 있는 객체들의 책임에 초점을 맞춘다. 즉, 객체의 인터페이스를 바라본다
    - 이 관점에서 프로그래머는 객체가 협력을 위해 무엇을 할 수 있는가에 초점을 맞춤
    - 클래스의 public 메서드 = 다른 클래스가 협력할 수 있는 공용 인터페이스
    - 객체의 인터페이스는 수정하면 다른 객체에도 영향을 주기 때문에 수정하기 어려움
    - 인터페이스를 통해 구현과 관련된 세부 사항이 드러나지 않도록 해야함
- 구현 관점(클래스의 속성과 메서드)
    - 이 관점의 초점은 객체들이 책임을 수행하는 데 필요한 동작코드를 작성하는 것
    - 프로그래머는 어떻게 수행할 것인가에 초점을 맞추며 인터페이스를 구현하는 데 필요한 속성과 메서드를 클래스에 추가함
    - 메서드의 구현과 속성의 변경은 원칙적으로 외부의 객체에게 영향을 미쳐서는 안됨
        
        == 메서드와 속성은 철저하게 클래스 내부로 캡슐화 되어야 함
        

위의 세 관점은 동일한 클래스를 다른 방향에서 바라보는 것이다. 순서대로 구현된다는 의미 아님.

## 📌 커피전문점

- 손님 타입, 메뉴판 타입, 메뉴 항목 타입, 바리스타 타입, 커피 타입
- 포함관계 or 합성관계
    - 메뉴 항목은 메뉴판에 포함된다는 사실 표현. 개수를 나타내려면 선 밑에 숫자 표현
    
    ![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/74fc3b32-0146-4bbe-b23d-8ebf1e47e860/19be67ad-614e-44ff-b328-d588fbc01e2e/Untitled.png)
    
- 연관관계
    - 메뉴판과 손님은 다른 타입을 포함하지는 않지만 서로 알고는 있어야 함.
    
    ![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/74fc3b32-0146-4bbe-b23d-8ebf1e47e860/f575da1c-0f3a-4075-a369-d5d9675361db/Untitled.png)
    
- 커피 전문점의 도메인 모델
    
    ![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/74fc3b32-0146-4bbe-b23d-8ebf1e47e860/c9e76d0e-c489-44ee-bb01-bad7d1332442/Untitled.png)
    
- 객체 협력 설계
    - 협력을 설계할 때는 메세지를 먼저 선택하고 그 후에 메세지를 수신하기에 적절한 객체를 선택해야 함.
    - 그 후, 메시지를 처리하기에 적합한 객체를 도메인 모델을 이용해 선택하여 그 타입의 인스턴스로 만들어야 함.
    - 객체가 할당된 책임 중 스스로 할 수 없는 일이 있다면 다른 객체에게 이를 요청해야 함.
    
    ![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/74fc3b32-0146-4bbe-b23d-8ebf1e47e860/f7bde66e-b9ae-4fd6-9a1d-da2f1bf26f0a/Untitled.png)
    

- 구현
    - 중요한 것은 코드다. 설계에 너무 오랜 시간을 쏟지 말자. 빨리 코드를 구현하여 설계가 구현 가능한지 판단하자.
    - 객체의 속성 캡슐화 == 인터페이스에는 객체의 내부 속성에 대한 어떤 힌트도 제공돼서는 안된다.
        
         → 인터페이스를 정하는 단계에서는 객체가 어떤 속성을 가지는지, 또 그 속성이 어떤 자료 구조로 구현됐는지를 고려하지 말자
        

# ❓ Questions

---

### ❓ **테스트 주도 설계가 어떻게 하는 거였더라?

p.225 “*설계를 간단히 끝내고 최대한 빨리 구현에 돌입하라…. 설계가 그려지지 않는다면 고민하지 말고 실제로 코드를 작성해가면서 협력의 전체적인 밑그림을 그려보라. 테스트-주도 설계로 코드를 구현하는 사람들이 하는 작업이 바로 이것이다. “* 

Red : 실패하는 테스트 코드 먼저 작성

Green : 테스트 코드를 성공시키기 위한 실제 코드 작성

Blue : 중복 코드 제거, 일반화 등의 리팩토링 수행 

- 디자인(설계) 단계에서 프로그래밍 목적을 반드시 미리 정의해야만 하고, 또 무엇을 테스트해야 할지 미리 정의(테스트케이스 작성)해야 함.
- 테스트 코드를 작성하는 도중에 발생하는 예외 사항(버그, 수정사항)들은 테스트 케이스에 추가하고 설계를 개선함.
- 이후 테스트가 통과된 코드만을 코드 개발 단계에서 실제 코드로 작성함.

p.137

*테스트-주도 개발은 책임-주도 설계를 통해 도달해야 하는 목적지를 테스트라는 안전장치를 통해 좀 더 빠르고 견고한 방법으로 도달할 수 있도록 해주는 최상의 설계 프랙티스(practice)다.* 

TDD방식의 개발 시간은 일반적인 개발 방식에 비해 대략 10~30%정도 늘어난다고 한다. 이 책에서 설계를 간단히 하라는 말이 나온 이유가 뭘까? 나는 능률 & 시간적인 부분 때문이라고 생각하며 읽었다. 

[TDD란? 테스트 주도 개발 - 하나몬](https://hanamon.kr/tdd란-테스트-주도-개발/)
